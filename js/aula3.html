<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div>
        <input type="text" placeholder="Digite seu e-mail" class="input required" oninput="emailValidate()">
        <span class="span-required">O e-mail deve ter o padrao email@empresa.com.br
        </span>
    </div>
    
    <script>
        // document.write(/[az]/i.test("AZ"));
        // document.write(/\bx/.test('123'));
        // document.write(/\s/.test('w'));
        // document.write(/^\d{2}\/\d{2}\/\d{4}$/.test('33/33/3333'))

        // document.write(/^\d{3}\.\d{3}\.\d{3}\-\d{2}$/.test('172.196.147-05'))
        
        // var dia = /^(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/;
        // document.write(dia.test("172.196.147-05"))
        // var ano = /^\d{4}$/;
        // document.write(ano.test("24"))
        // document.write(ano.test("2024"))
        // var data = /^(0[1-9]|1)
        // var email = /^[a-zA-Z0-9._%+-]+/;
        // document.write(email.test("riQ_%+-"))
        // var mail = /^[a-zA-Z0-9.-]+:/

        const inputs = document.querySelectorAll('.required');
        const spans = document.querySelectorAll('.span-required');
        const email = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/
        
        function emailValidate(){
            if(email.test(inputs[0].value)) {
                removeError(0);
            }else {
                setError(0)
            }
        } 


        function setError(index){
            spans[index].style.display = 'block';
            spans[index].style.color = 'red';
        }
            
        function removeError(index) {
            spans[index].style.display = 'none';
        }
    </script>
    
</body>
</html>